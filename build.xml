<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE project [<!ENTITY buildfile SYSTEM "file:./build-user.xml">]>
<!-- WARNING: Eclipse autogenerated file. 
              Any modifications will be overwritten.
              Please edit build-user.xml instead.
-->

<project basedir="." name="browse-shelf" default="main">

    <!-- bin.dir, lib.dir, src.dir added for compile target - TAO -->
    <property name="bin.dir" value="bin"/>
    <property name="lib.dir" value="lib"/>
    <property name="src.dir" value="src"/>
    <property name="dist.dir" value="dist"/>
    <property name="jsp.dir" value="jsp"/>
    <property name="include.dir" value="include"/>
    <property name="image.dir" value="images" />
    <!-- Directory where servlet-api.jar lives, needed only if compiling from command line - TAO 
    <property name="servlet-api.dir" value="/home/lcrsys/public_html/apache-tomcat-6.0.29/lib"/>-->
	 <property name="servlet-api.dir" value="/home/lcrsys/public_html/apache-tomcat-6.0.29/lib"/>
	  <property name="standard.dir" value="/home/lcrsys/public_html/apache-tomcat-6.0.29/lib"/>
	  <property name="jstl.dir" value="/home/lcrsys/public_html/apache-tomcat-6.0.29/lib"/>
    
    <target name="init">
        <!-- Not certain what's supposed to happen here.  Used to just set properties. -TAO -->
    </target>
    
	<target name="clean" depends="init">
	   <delete dir="${dist.dir}"/>
	   <delete dir="${bin.dir}"/>
	</target>

    <target name="compile" depends="clean">
      <mkdir dir="${bin.dir}"/>
      <javac srcdir="${src.dir}" destdir="${bin.dir}" classpathref="classpath"/>
    </target>

    <path id="classpath">
      <fileset dir="${lib.dir}" includes="**/*.jar"/>
      <!-- Need the location of servlet-api.jar if compiling from command line - TAO -->
      <fileset dir="${servlet-api.dir}" includes="servlet-api.jar"/>
	   <fileset dir="${standard.dir}" includes="standard.jar"/>
	    <fileset dir="${jstl.dir}" includes="jstl.jar"/>
    </path>
    
    <target name="war" depends="compile">
    	<mkdir dir="${dist.dir}"/>
        <war destfile="${dist.dir}/browse.war" webxml="./web.xml">
        <!-- <fileset dir="html"/> -->
        <classes dir="bin"/>
        <lib dir="lib"/>
        <!-- <webinf file="urlrewrite.xml" /> -->
        <!-- <classes dir="build/main"/> -->
        <zipfileset dir="jsp" includes="*.jsp" 
        	 prefix="${jsp.dir}" />
        <zipfileset dir="include" prefix="${include.dir}" />
        <zipfileset dir="images" prefix="${image.dir}" />
        </war>
    </target>
	
	<target name="main" depends="init,clean,compile,war"/>

</project>